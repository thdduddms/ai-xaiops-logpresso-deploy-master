파라미터 : []
설명 : 90.test

setq [
table to=$("limit") xapm_was_stat_summary
| stats max(_time) as last_time
| eval last_time = nvl(last_time, date($("start"),"yyyyMMddHHmm"))
| eval last_time = string(last_time, "yyyy-MM-dd HH:mm:ss")
| fields last_time ]
| dbquery intermax_221
select active_db_sessions, active_txns, active_users, app_sessions, db_sessions, elapsed_critical, elapsed_normal, elapsed_warning, cast(jvm_cpu_usage as float) / 100 as jvm_cpu_usage, jvm_free_heap, jvm_gc_count, jvm_heap_size, jvm_heap_usage, jvm_max_heap, jvm_mem_size, jvm_thread_count, jvm_used_heap, max_active_db_sessions, max_active_txns, max_active_users, max_app_sessions, max_db_sessions, max_elapsed_critical, max_elapsed_normal, max_elapsed_warning, cast(max_jvm_cpu_usage as float) / 100 as max_jvm_cpu_usage, max_jvm_free_heap, max_jvm_gc_count, max_jvm_heap_size, max_jvm_heap_usage, max_jvm_max_heap, max_jvm_mem_size, max_jvm_thread_count, max_jvm_used_heap, max_open_file_count, max_open_socket_count, cast(max_os_cpu as float) / 100 as max_os_cpu, cast(max_os_cpu_io as float) / 100 as max_os_cpu_io, cast(max_os_cpu_sys as float) / 100 as max_os_cpu_sys, cast(max_os_cpu_user as float) / 100 as max_os_cpu_user, max_os_free_memory, max_os_rcv_packets, max_os_send_packets, max_os_total_memory, max_os_used_memory, max_request_rate, max_sql_elapse, max_sql_exec_count, max_sql_fetch_count, max_sql_prepare_count, max_txn_elapse, max_txn_elapse_us, max_txn_end_count, max_was_sessions, min_active_db_sessions, min_active_txns, min_active_users, min_app_sessions, min_db_sessions, min_elapsed_critical, min_elapsed_normal, min_elapsed_warning, cast(min_jvm_cpu_usage as float) / 100 as min_jvm_cpu_usage, min_jvm_free_heap, min_jvm_gc_count, min_jvm_heap_size, min_jvm_heap_usage, min_jvm_max_heap, min_jvm_mem_size, min_jvm_thread_count, min_jvm_used_heap, min_open_file_count, min_open_socket_count, cast(min_os_cpu as float) / 100 as min_os_cpu, cast(min_os_cpu_io as float) / 100 as min_os_cpu_io, cast(min_os_cpu_sys as float) / 100 as min_os_cpu_sys, cast(min_os_cpu_user as float) / 100 as min_os_cpu_user, min_os_free_memory, min_os_rcv_packets, min_os_send_packets, min_os_total_memory, min_os_used_memory, min_request_rate, min_sql_elapse, min_sql_exec_count, min_sql_fetch_count, min_sql_prepare_count, min_txn_elapse, min_txn_elapse_us, min_txn_end_count, min_was_sessions, open_file_count, open_socket_count, cast(os_cpu as float) / 100 as os_cpu, cast(os_cpu_io as float) / 100 as os_cpu_io, cast(os_cpu_sys as float) / 100 as os_cpu_sys, cast(os_cpu_user as float) / 100 as os_cpu_user, os_free_memory, os_rcv_packets, os_send_packets, os_total_memory, os_used_memory, request_rate, sql_elapse, sql_exec_count, sql_fetch_count, sql_prepare_count, sum_txn_elapse, sum_txn_elapse_us, sum_txn_end_count, time, txn_elapse, txn_elapse_us, txn_end_count, was_id, was_sessions, 2 as system_id, cast(was_id as varchar) as _target from xapm_was_stat_summary where time > :last_time and time < cast(:last_time as timestamp) + interval '240 min' and was_id in (214)
 order by time
 | eval _time = date(time, "yyyy-MM-dd HH:mm:ss"), _host = "102.xapm_was_stat_summary"
 | search _time < date($("limit"), "yyyyMMddHHmm")
 | import xapm_was_stat_summary